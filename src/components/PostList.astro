---
import type { CollectionEntry } from "astro:content";
type BlogEntry = CollectionEntry<"blog">;

const { posts = [] }: { posts?: BlogEntry[] } = Astro.props;
---

<ul class="posts card">
  {
    posts.map((post) => (
      <li class="post">
        <a class="ghost" href={`/post/${post.slug}`}>
          <div class="title">{post.data.title}</div>
          <ul class="tags">
            {post.data.tags.map((tag) => <li class="tag"> #{tag.charAt(0).toUpperCase() + tag.slice(1).replace("-", " ")}</li>)}
          </ul>
        </a>
      </li>
    ))
  }
</ul>

<style is:inline>
  .posts {
    display: flex;
    flex-direction: column;
    list-style-type: none;
    max-width: calc(var(--max-page-width));
    margin: 0;
  }

  .post {
    display: flex;
    flex-direction: row;
  }

  .post a {
    padding: .75rem;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    border-radius: calc(var(--border-rounded) - .5rem); 
  }

  .tags {
    display: inline;
    @media (max-width: 48rem) {
      display: none;
    }
    list-style: none;
    font-weight: 400;
    color: var(--muted-color);
  }

  .tag {
    display: inline;
  }
</style>

