---
import Base from "@/layouts/Base.astro";
import { getCollection, type CollectionEntry } from "astro:content";
import PostList from "@/components/PostList.astro";

type BlogEntry = CollectionEntry<"blog">;

const allPosts: BlogEntry[] = await getCollection("blog");
const posts = allPosts.filter((p) => !p.data.draft);
---

<Base>
    <PostList posts={posts} />
</Base>
